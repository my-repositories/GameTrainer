# Download https://cmake.org/download/
cmake_minimum_required(VERSION 3.15)

set(MY_PROJECT_NAME GameTrainer)
project(${MY_PROJECT_NAME})

set(CMAKE_CXX_STANDARD 17)
set_target_properties(${TARGET} PROPERTIES
    CXX_STANDARD 17
    CXX_STANDARD_REQUIRED YES
    CXX_EXTENSIONS NO
)
#set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} /NODEFAULTLIB:LIBCMT")

set(CMAKE_RUNTIME_OUTPUT_DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}/bin")
set(CMAKE_CONFIGURATION_TYPES ${CONFIGURATION} CACHE STRING "" FORCE)

set(MY_OUTPUT_DIR ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/clion)
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY_RELEASE ${MY_OUTPUT_DIR}/Release-${CMAKE_GENERATOR_PLATFORM})

include_directories(${CMAKE_CURRENT_SOURCE_DIR}/deps/include)
link_directories(${CMAKE_CURRENT_SOURCE_DIR}/deps/lib)

include_directories(inc)


file(GLOB MY_EXECUTABLE_FILES "src/*.cpp")
add_executable(${MY_PROJECT_NAME} ${MY_EXECUTABLE_FILES})
target_link_libraries(${MY_PROJECT_NAME}
    ${CMAKE_CURRENT_SOURCE_DIR}/deps/lib/lua51.lib
    winmm.lib
)
